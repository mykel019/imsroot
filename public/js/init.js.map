{"version":3,"sources":["init.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"init.js","sourcesContent":["(function(){\r\n\t$.ajaxSetup({\r\n\t    headers: {\r\n\t        // 'X-XSRF-TOKEN': $('input[name=\"_token\"]').val()\r\n\t        'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n\t    }\r\n\t});\r\n\r\n\t/*------------------------\r\n\t\tiCheck\r\n\t-------------------------*/\r\n\t$('input').iCheck({\r\n\t\t      checkboxClass: 'icheckbox_square-blue',\r\n\t\t      radioClass: 'iradio_square-blue',\r\n\t\t      increaseArea: '20%' // optional\r\n\t\t    });\r\n\r\n\t/*number only input on selected number*/\r\n    $('input.numberinput').on('keypress', function (e) {            \r\n        return !(e.which != 8 && e.which != 0 &&\r\n            (e.which < 48 || e.which > 57) && e.which != 46);\r\n    });\r\n\r\n})();\r\n\r\n/*serialize All form ON SUBMIT*/\r\n$(document).off('click',\".submit\").on('click',\".submit\",function(){\r\n\t\tvar btn = $(this);\r\n\r\n\t\t$(\"#form\").ajaxForm({\r\n\t\t\tbeforeSend:function(){\r\n\t\t\t\tbtn.button('loading')\r\n\t\t\t},\r\n\t\t\tsuccess:function(data){\r\n\t\t\t\tpar  =  JSON.parse(data);\r\n\r\n\t\t\t\tif(par.status){\t\r\n\t\t\t\t\talert(par.response);\t\t\r\n\t\t\t\t\t$('input[type=\"text\"], select').popover('destroy').val('');\r\n\t\t\t\t\tpath = base_url+module;\r\n\t\t\t\t\twindow.location.href = path;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbtn.button('reset');\r\n\t\t\t},\r\n\t\t\terror:function(data){\r\n\t\t\t\t$error = data.responseJSON;\r\n\t\t\t\t/*reset popover*/\t\r\n\t\t\t\t$('input[type=\"text\"], select').popover('destroy');\r\n\r\n\t\t\t\t/*add popover*/\r\n\t\t\t\tblock = 0;\r\n\t\t\t\t$(\".error-msg\").remove();\r\n\t\t\t\t$.each($error,function(k,v){\r\n\t\t\t\t\tvar messages = v.join(', ');\r\n\t\t\t\t\tmsg = '<div class=\"error-msg err-'+k+'\" ><i class=\"fa fa-exclamation-circle\" style=\"color:rgb(255, 184, 0)\"></i> '+messages+'</div>';\r\n\t\t\t\t\t$('input[name=\"'+k+'\"], textarea[name=\"'+k+'\"], select[name=\"'+k+'\"]').after(msg).attr('data-content',messages);\r\n\t\t\t\t\tif(block == 0){\r\n\t\t\t\t\t\t$('html, body').animate({\r\n\t\t\t\t\t        scrollTop: $('.err-'+k).offset().top - 130\r\n\t\t\t\t\t    }, 500);\r\n\t\t\t\t\t    block++;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tbtn.button('reset');\r\n\t\t\t},\r\n\t\t\talways:function(){\r\n\t\t\t\tbtn.button('reset');\r\n\r\n\t\t\t}\r\n\t\t}).submit();\r\n\r\n\t});\r\n\r\n\r\n/*edit*/\r\n$(document).on('click','.edit',function(){\r\n\taction = $(this).data('action');\r\n\tpath = base_url+action;\r\n\twindow.location.href = path;\r\n});\r\n\r\n\r\n\r\n/*keycode delete*/\r\n$(document).on('keydown',function(e){\r\n\tif(e.keyCode == 46){\r\n\t\t$('.delete').trigger('click');\r\n\t}\r\n})\r\n\r\n\r\n/*single delete*/\r\n$(document).on('click','.single-delete',function(){\r\n\turl = base_url+module+'/destroy';\r\n\tself =$(this)\r\n\tidArr = [];\r\n\tidArr.push($(this).data('id'));\t\r\n\r\n\tif(confirm('You are about to delete a record!')){\t\r\n\t\t$.post(url,{data:idArr},function(data){\r\n\t\t\tconsole.log(data)\r\n\t\t\tif($.trim(data) == 'deleted'){\r\n\t\t\t\tself.parent().closest('tr').remove();\r\n\t\t\t\t// self.parent().removeClass('action-buttons')\r\n\t\t\t\t// self.parent().addClass('undo-button').html('<a class=\"btn btn-warning btn-xs undo\"> <i class=\"fa fa-undo\"></i> Undo</a>')\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n})\r\n\r\n/*delete*/\r\n$(document).on('click','.delete',function(){\r\n\turl = base_url+module+'/destroy';\t\r\n\tidArr = [];\r\n\t$('.chk-list').each(function(){\r\n\t\tif($(this).is(':checked')){\r\n\t\t\t\r\n\t\t\t//for items inside table\r\n\t\t\tif($(this).closest('tr').length > 0){\t\t\t\t\r\n\t\t\t\tid = $(this).closest('tr').attr('id');\t\r\n\t\t\t\tidArr.push(id);\r\n\t\t\t}\r\n\r\n\t\t\t//for items other than table, ex: div,span, or any container wrapper\r\n\t\t\tif($(this).closest('.entity-wrapper').length > 0){\t\t\t\t\r\n\t\t\t\tid = $(this).closest('.entity-wrapper').attr('id');\t\r\n\t\t\t\tidArr.push(id);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t})\r\n\r\n\tif(idArr.length > 0){\r\n\t\tif(confirm('You are about to delete the selected items')){\t\t\t\r\n\t\t\t$.post(url,{data:idArr},function(data){\r\n\t\t\t\tif($.trim(data) == 'deleted'){\r\n\t\t\t\t\t$.each(idArr,function(k,v){\r\n\t\t\t\t\t\t$(\"#\"+v).remove();\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\t\t\t\r\n\t}\r\n\r\n});\r\n\r\n\r\n/*--------------------\r\n| \tPaginate\r\n----------------------*/\r\n\r\n$(document).on('click','.pagination a',function(){\r\n\t\t$('.pagination li').removeClass('active');\r\n\t\t// $(this).parent().addClass('active');\r\n\r\n\t\tlinkArr = $(this).attr(\"href\").split('/');\r\n\t\tpage = linkArr[linkArr.length - 1];\r\n\t\tconsole.log( )\r\n\r\n\t\t// alert(base_url)\r\n\t\t$.ajax({\r\n\t\t   type: \"GET\",\r\n\t\t   url: base_url+module+'/datatable'+page,\r\n\t\t   data: {\"q\":$('.search').val() },\r\n\t\t   success: function(res){\r\n\t\t      $(\".sub-panel\").html(res);\r\n\t\t   }\r\n\t\t});\r\n\treturn false;\r\n});\r\n\r\n\r\n/*--------------------\r\n| \tSERARCH\r\n----------------------*/\r\nvar timer;\r\n$(document).on('keyup','.search',function(){\r\n\t$('input.search').addClass('searchSpinner');\r\n\r\n\tclearTimeout(timer);\r\n\ttimer = setTimeout(\r\n\t\t\t\tfunction(){\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t   type: \"GET\",\r\n\t\t\t\t\t   url: base_url+module+'/datatable',\r\n\t\t\t\t\t   data: {\"q\":$('.search').val() },\r\n\t\t\t\t\t   success: function(res){\r\n\t\t\t\t\t      $(\".sub-panel\").html(res);\r\n\t\t\t\t\t      $('input.search').removeClass('searchSpinner');\r\n\t\t\t\t\t   }\r\n\t\t\t\t\t});\r\n\t\t\t\t},500);\r\n})\r\n\r\n/*--------------------\r\n| \tLIMIT\r\n----------------------*/\r\n$(document).on('change','.limit',function(){\r\n\tclearTimeout(timer);\r\n\ttimer = setTimeout(\r\n\t\t\t\tfunction(){\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t   type: \"GET\",\r\n\t\t\t\t\t   url: base_url+module+'/datatable/1',\r\n\t\t\t\t\t   data: {\"q\":$('.search').val(),'limit':$(\".limit\").val() },\r\n\t\t\t\t\t   success: function(res){\r\n\t\t\t\t\t      $(\".sub-panel\").html(res);\r\n\t\t\t\t\t   }\r\n\t\t\t\t\t});\r\n\t\t\t\t},500);\r\n})\r\n\r\n\r\n\r\n\r\n/*unviel images LAZY IMAGE LOADING*/\r\n// $(document).ready(function(){\r\n// \t$(\"img\").unveil(200);\r\n// })\r\n\r\n/* file uploads\r\n\t@params\r\n\tgate  \t\t\t-  Ex: #file-preview (photo thumbnail)\r\n\ttargetCallback  -  Ex: #input\r\n*/\r\n$.uploadHandler = function(gate,targetCallback){\t\r\n\r\n\t$(gate).click(function(){\r\n\t\t$('.file-input').trigger('click');\r\n\t});\r\n\r\n\t$('.file-input').change(function(){\r\n\t\t$('#upload-form').ajaxForm(function(data){\r\n\t\t\tpar = JSON.parse(data);\r\n\t\t\tif(par.status){\r\n\t\t\t\t$('#filename').val(par.response); // this will hold current filename\t\t\t\r\n\t\t\t\t$(targetCallback).val(par.response);\r\n\t\t\t\t$(gate).attr('src',base_url+'assets/uploads/photos_thumb/'+par.response);\r\n\t\t\t}else{ alert(par.response) }\r\n\t\t}).submit();\r\n\t})\r\n}\r\n\r\n$.uploadHandler('#file-preview','#photo');\r\n\r\n\r\n/*CHECk ALL*/\r\n\r\n$.highlightsCheckedItems = function(){\r\n\t$('.thumbnail-list, tbody>tr').css('background-color','rgb(255, 255, 208)');\r\n\t$('.frame-pin').css('background-color','rgb(255, 255, 175)');\r\n}\r\n\r\n$.highlightsRemoved = function(){\r\n\t$('.thumbnail-list, tbody>tr').css('background-color','rgb(255, 255, 255)');\r\n\t$('.frame-pin').removeAttr('style');\r\n}\r\n\r\n$(document).on('ifChecked',\".chk-all\",function(){\r\n\t//highlight items table, div,span, or any container wrapper in list view\r\n\t$(\".chk-list\").iCheck('check');\r\n\t$.highlightsCheckedItems();\r\n});\r\n\r\n$(document).on('ifUnchecked',\".chk-all\",function(){\r\n\t//revert highlight items table, div,span, or any container wrapper in list view\r\n\t$(\".chk-list\").iCheck('uncheck');\r\n\t$.highlightsRemoved();\r\n});\r\n\r\n\r\n\r\n/*CHECk INDIVIDUAL*/\r\n$(document).on('ifChecked',\".chk-list\",function(){\r\n\tself = $(this);\r\n\tself.closest('tbody>tr').css('background-color','rgb(255, 255, 208)');\t\t\r\n\tself.parent().parent().siblings('.thumbnail-list').css('background-color','rgb(255, 255, 208)');\t\t\r\n\tself.closest('.frame-pin').css('background-color','rgb(255, 255, 175)');\r\n\r\n})\r\n\r\n\r\n$(document).on('ifUnchecked',\".chk-list\",function(){\r\n\tself = $(this);\r\n\tself.closest('tbody>tr').css('background-color','rgb(255, 255, 255)');\r\n\tself.parent().parent().siblings('.thumbnail-list').css('background-color','rgb(255, 255, 255)');\t\t\r\n\tself.closest('.frame-pin').removeAttr('style');\r\n\t\r\n})\r\n\r\n\r\n$(document).on('click',\".chk-list\",function(event){\r\n\tevent.stopPropagation();\t\t\r\n})\r\n\r\n"],"sourceRoot":"/source/"}